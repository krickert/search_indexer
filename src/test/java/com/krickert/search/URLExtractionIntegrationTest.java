package com.krickert.search;


import com.krickert.search.wikipedia.WikiURLExtractor;
import org.apache.commons.lang3.StringUtils;
import org.apache.solr.common.SolrInputDocument;
import org.junit.jupiter.api.Test;

import java.util.Collection;

public class URLExtractionIntegrationTest {
    String sampleTextWithURLStrings = "Mark Robert Bailey (born 13 January 1965), known professionally as Bill Bailey, is an English musician, comedian and actor. He is known for his role as Manny in the sitcom Black Books and his appearances on the panel shows Never Mind the Buzzcocks, Have I Got News for You, and QI, as well as for his stand-up comedy work. He plays a variety of musical instruments and incorporates music into his performances. Bailey was listed by The Observer as one of the 50 funniest acts in British comedy in 2003. In 2007, and again in 2010, he was voted the seventh greatest stand-up comic on Channel 4's 100 Greatest Stand-Ups. In 2020 Bailey won the 18th series of the televised BBC dancing competition Strictly Come Dancing with his professional partner Oti Mabuse. At 55, he was the oldest winner in the show's history. Early life Mark Robert Bailey was born on 13 January 1965 in Bath, Somerset, the son of a medical practitioner father and hospital ward employee mother. Until 2018, when he revealed the correct date, his birthday was wrongly recorded by the media as 24 February.[http://www.stuff.co.nz/entertainmjent/stage-and-theatre/84478852/bill-bailey-its-no-time-for-a-midlife-crisis] He spent most of his childhood in Keynsham, a town between Bath and Bristol. His maternal grandparents lived in an annexe built on the side of the house by his maternal grandfather, who was a stonemason and builder. Two rooms at the front of the family house were for his father's surgery. Bailey was educated at King Edward's School,\"[http://www.bristolpost.co.uk/news/bristol-news/11-bristol-celebrities-go-school-17024 Where did these 11 Bristol celebrities go to school?]\",Bristol Post, 2 April 2017 (Accessed 4 April 2017) an independent school in Bath, where he was initially a highly academic pupil. At about the age of 15, he started to become distracted from school work when he realised the thrill of performance as a member of a school band called Behind Closed Doors, which played mostly original work. He is a classically trained musician and was the only pupil at his school to study A-level music, which he passed with an A grade. He also states he was good at sport and was the captain of the KES 2nd XI cricket team in 1982, which often surprised his teachers. He would often combine music and sport by leading the singing on the long coach trip back from away rugby fixtures. It was here that he was given the nickname Bill by his music teacher for being able to play the song \"Won't You Come Home Bill Bailey\" so well on the guitar. Bailey started studies for an English degree at Westfield College of the University of London, but left after a year.[https://www.independent.co.uk/arts-entertainment/comedy/features/bill-bailey-people-are-obsessed-by-how-i-look-1027334.html \"People are obsessed by how I look\"], The Independent, 21 November 2008. He received an Associate Diploma from the London College of Music. He was also made an honorary member of the Society of Crematorium Organists. He performed with a boy band called The Famous Five. Acting roles included a part in a Workers' Revolutionary Party stage production called The Printers with Vanessa Redgrave and Frances de la Tour. Career Early stand-up Bailey began touring the country with comedians such as Mark Lamarr. In 1984, he formed a double act, the Rubber Bishops, with Toby Longworth (a fellow former pupil at King Edward's, Bath). It was there that Bailey began developing his own style, mixing in musical parodies with deconstructions of or variations on traditional jokes (\"How many amoebas does it take to change a lightbulb? One, no two! No four! No eight...\"). Longworth left to join the Royal Shakespeare Company (RSC) in 1989 and was replaced by Martin Stubbs. Stubbs later quit to pursue a more serious career, and in 1994 Bailey performed Rock at the Edinburgh Festival Fringe with Sean Lock, a show about an ageing rockstar and his roadie, script-edited by comedy writer Jim Miller. It was later serialised for the Mark Radcliffe show on BBC Radio 1. The show's attendances were not impressive and on one occasion the only person in the audience was comedian Dominic Holland. Bailey almost gave up comedy to take up a telesales job. He went solo the next year with the one man show Bill Bailey's Cosmic Jam. The show led to a recording at the Bloomsbury Theatre in London which was broadcast in 1997 on Channel 4 as a one-hour special called Bill Bailey Live. It was not until 2005 that this was released on DVD uncut and under its original title. It marked the first time that Bailey had been able to tie together his music and post-modern gags with the whimsical rambling style he is now known for. After supporting Donna McPhail in 1995 and winning a Time Out award, he returned to Edinburgh in 1996 with a show that was nominated for the Perrier Comedy Award. Amongst the other nominees was future Black Books co-star Dylan Moran, who narrowly beat him in the closest vote in the award's history. Bailey won the Best Live Stand-Up award at the British Comedy Awards in 1999. Television Although he did not win the Perrier Comedy Awards in 1996, the nomination was enough to get him noticed, and in 1998 the BBC gave him his own television show, Is It Bill Bailey?. Bailey's television debut had been on the children's show Motormouth in the late 1980s – playing piano for a mind-reading dog. Bailey reminisced about the experience on the BBC show Room 101 with Paul Merton in 2000. In 1991, he was appearing in stand-up shows such as The Happening, Packing Them In, The Stand Up Show and The Comedy Store. He also appeared as captain on two panel games, an ITV music quiz pilot called Pop Dogs, and the Channel 4 science fiction quiz show Space Cadets. Is it Bill Bailey? was the first time he had written and presented his own show. Over the next few years, Bailey made guest appearances on shows such as Have I Got News for You, World Cup Comedy, Room 101, Des O'Connor Tonight, Coast to Coast and three episodes of off-beat Channel 4 sitcom Spaced, in which he played comic-shop manager Bilbo Bagshot. In 1998, Dylan Moran approached him with the pilot script for Black Books, a Channel 4 sitcom about a cold-hearted bookshop owner, his nice-guy assistant, and their socially awkward female friend. It was commissioned in 2000, and Bailey took the part of the assistant Manny Bianco, with Moran playing the owner Bernard and Tamsin Greig the friend, Fran. Three series of six episodes each were made. When Sean Hughes left his long-term role as a team captain on Never Mind the Buzzcocks in 2002, Bailey became his successor. Host Mark Lamarr continually teased him about his looks and his pre-occupation with woodland animals. It was announced on 18 September 2008 that Bailey would leave the series and be replaced by a series of guest captains including Jack Dee and Dermot O'Leary. While touring in 2009, Bailey joked that the main reason for leaving the show was a lack of desire to continue humming Britney Spears' Toxic to little known figures in the indie music scene. During this time he also left his position as \"curator\" of the Museum of Curiosity, and declared his intention to \"retire\" from panel games, although he has since appeared on QI many more times and hosted Have I Got News For You. Bailey has appeared frequently on the intellectual panel game QI since it began in 2003, alongside host Stephen Fry and regular panellist Alan Davies; he was also the winner of the show's unaired pilot episode. Other television appearances include a cameo role in Alan Davies' drama series Jonathan Creek as failing street magician Kenny Starkiss and obsessed guitar teacher in the \"Holiday\" episode of Sean Lock's Fifteen Storeys High. He later appeared with Lock again as a guest on his show TV Heaven, Telly Hell. He has also appeared twice on Friday Night with Jonathan Ross. Bailey also hosted his own show Comic's Choice, which aired in 2011. Bailey also presented Wild Thing I Love You which began on Channel 4 on 15 October 2006. The series concentrates on the protection of Britain's wild animals, and has included re-homing badgers, owls and water voles. Bailey appeared in the second series of the E4 teenage \"dramedy\" Skins playing Maxxie's dad, Walter Oliver. In episode 1, Walter struggles with his son's desire to be a dancer, instead wishing him to become a builder, which is what he himself does for a living. Walter is married to Jackie, played by Fiona Allen. Bailey appeared on the first episode of Grand Designs Live on 4 May 2008, helping Kevin McCloud build his eco-friendly home. In 2009, Bailey appeared in the BBC show Hustle as the character \"Cyclops\", a side-line character. In autumn 2009, Bailey presented Bill Bailey's Birdwatching Bonanza. To continue his foray into natural history, Bailey presented ITV1's half-hour wildlife mini-series Baboons With Bill Bailey. The series was filmed in Cape Town and spanned eight episodes, with exclusive content available on itvWILD. Bill Bailey played Droxil, a Harvest Ranger from the Planet Androzani Major, in the 2011 Christmas Special of Doctor Who, titled The Doctor, the Widow and the Wardrobe. In 2009, Bailey presented a project about the explorer and naturalist Alfred Russel Wallace, in the form of an Indonesian travelogue. Bailey said in an interview that Wallace had been \"airbrushed out of history\", and that he feels a \"real affinity\" with him. In 2013, to coincide with the centenary of Wallace's death, Bailey presented a two-part documentary, Bill Bailey's Jungle Hero, first broadcast on BBC Two on 21 and 28 April 2013. He travelled around producing and filming the series in Indonesia and Borneo. Bailey took part in the eighteenth series of the televised dancing competition Strictly Come Dancing, broadcast in late 2020. He won the competition with his partner, Oti Mabuse, becoming the show's oldest winner at 55, displacing the previous oldest winner Joe McFadden. Their win made Mabuse the first dancer to receive the title two years in a row. International tours In 2001, Bailey began touring the globe with Bewilderness. A recording of a performance in Swansea was released on DVD the same year, and the show was broadcast on Channel 4 that Christmas. A modified version of it also proved successful in America, and in 2002 Bailey released a CD of a recording at the WestBeth Theatre in New York City. The show contained his popular music parodies (such as Unisex Chip Shop, a Billy Bragg tribute, which he also performed with Bragg himself at the 2005 Glastonbury Festival), \"three men in a pub\" jokes (including one in the style of Geoffrey Chaucer) and deconstructions of television themes such as Countdown and The Magic Roundabout. A Bewilderness CD was sold outside gigs, a mixture of studio recordings of songs and monologues Bailey had performed in the past; it was later released in shops as Bill Bailey: The Ultimate Collection... Ever! That same year he also presented a Channel 4 countdown, Top Ten Prog Rock. Bailey premiered his show Part Troll at the 2003 Edinburgh Festival Fringe. A critical and commercial success, he then transferred it to the West End, where tickets sold out in under 24 hours, and new dates had to be added. He continued to tour it all over the UK as well as in Australia, New Zealand and the US. Bailey expanded on subjects such as the war on Iraq. He also talks extensively about drugs, at one point asking the audience to name different ways of baking cannabis. A DVD was released in 2004.2005 saw the release of his 1995 show Bill Bailey's Cosmic Jam. The two-disc set also contained a director's cut of Bewilderness, which featured a routine on Stephen Hawking's A Brief History of Time not seen in the original version. Bailey performed a show at the 2006 Edinburgh Festival Fringe entitled Steampunk. Bailey appeared at the Beautiful Days festival in August 2007. The UK leg of the Tinselworm tour enjoyed three sell-out nights at the MEN Arena in Manchester, Europe's largest indoor arena, and culminated with a sell-out performance at Wembley Arena. Early in 2007, a petition was started to express fans' wishes to see him cast as a dwarf in The Hobbit films, after his stand-up routine mentioned auditioning for Gimli in The Lord of the Rings. The petition reached its goal in the early days of January, and was sent to the producers. It was hoped that as the Tinselworm tour took him to Wellington in New Zealand where the film was in pre-production, that he would be able to audition. Dandelion Mind was released on DVD on 22 November 2010. In 2012, his world tour was entitled Qualmpeddler, which toured the UK as well as returning to Australia and New Zealand in August and September 2012. In September and October 2018, Bailey toured his show, The Earl of Whimsy, to seven venues within New Zealand. In December 2021, Bailey started touring his new show, En Route To Normal, to venues in the United Kingdom and Ireland. In 2022 Bailey will take the tour to venues in Europe, and later in the year Australia. Music Bailey plays numerous musical instruments, and incorporates music into his comedy. He has perfect pitch. His stand-up routines often feature music from genres such as jazz, rock (most notably prog rock from the early seventies), drum'n'bass, classical, and even theme songs, usually for comic value. Favourite instruments include the keyboard, guitar, theremin, kazoo and bongos. He also mentioned in an interview that he has achieved Grade 6 Clarinet. He was part of punk band Beergut 100, which he founded in 1995 with comedy writer Jim Miller and also featured Martin Trenaman and Phil Whelans, with Kevin Eldon as lead singer. The band performed at the 2006 Edinburgh Festival Fringe. His musical routines include performing \"The Star-Spangled Banner\" in a minor key or perform the Hokey Cokey in the style of the electronic band Kraftwerk. In February 2007, Bailey appeared twice with the BBC Concert Orchestra and Anne Dudley in a show entitled Cosmic Shindig. Performed in the Colosseum in Watford on 24 February and in the Queen Elizabeth Hall on 26 February, the show contained orchestrally accompanied versions of many of Bailey's previously performed songs, an exploration of the instruments of the orchestra and a number of new pieces of music. The Queen Elizabeth Hall performance was broadcast on BBC Radio 3 on 16 March 2007 as a part of Comic Relief 2007. Bailey had planned to put himself forward as Britain's Eurovision entry in 2008, as a result of several fan petitions encouraging him to do so. In October 2008, he performed Bill Bailey's Remarkable Guide to the Orchestra at the Royal Albert Hall with the BBC Concert Orchestra, conducted by Anne Dudley. In November 2009 he was a guest on Private Passions, the biographical music discussion programme on BBC Radio 3. In July 2011, Bailey performed at the Sonisphere Festival in Knebworth, headlining the Saturn Stage. He released an album, In Metal, using songs played at Sonisphere, later that year. In June 2014, The Music House for Children announced Bailey would become their patron alongside Sophie Ellis-Bextor in celebration of their 20th anniversary. Personal life Bailey lives in the Hammersmith area of London with his wife Kristin, whom he married in 1998, on a whim, in Indonesia. In 2009 he said: \"We were travelling around Asia and sailed into a place called Banda, with a beautiful lagoon, and a smoking volcano on one side and a Dutch colonial fort, an old church and remains of a little town on the other. We decided to get married there and then.\" Their son Dax was born in 2003. He supports Queens Park Rangers and describes himself as an avid fan of Star Trek. Bailey has a carnivorous pitcher plant named after him, Nepenthes x Bill Bailey, created by Borneo Exotics in Sri Lanka. His sporting interests include standup paddleboarding (SUP). He is an active supporter of British Canoeing.[https://www.britishcanoeing.org.uk/news/2020/comedy-legend-bill-bailey-is-our-guest-on-this-weeks-paddlecast Comedy legend Bill Bailey is our guest on this week's Paddlecast] Retrieved Novemeet 21, 2020. Politics and activism Bailey is a supporter of the Labour Party and appeared in its fifth party election broadcast of the 2010 general election campaign. In 2015, he endorsed Jeremy Corbyn's campaign in the Labour Party leadership election, saying, \"Corbyn's nomination showed there is a kind of craving for a bit of honest speaking, a bit of principled plain speaking. But I think he is in a bit of a bind. Nuanced debate doesn't cut it in the toxic, political atmosphere. He’s having a fast-forward of his own political evolution, having to become 'a politician' – the thing he never was.\" Bailey is a feminist and a supporter of the Fawcett Society. He is also a prominent advocate of men's issues, most notably raising awareness of prostate cancer and the Men United campaign. He is a patron of International Animal Rescue and has been instrumental in the organisation's campaign to rescue dancing bears. He has also campaigned for the Sumatran Orangutan Society. For his work in environmental conservation, he received an honorary doctorate in conservation and sustainability from the Australian University of the Sunshine Coast in October 2014. Tours * Cosmic Jam (1995) * Bewilderness (2001) * Part Troll (2004) * Steampunk (2006) (Edinburgh Festival) * Tinselworm (2008) * Bill Bailey Live (2008–09) (Theatre tour with some material from Tinselworm, but mostly new material) * Remarkable Guide to the Orchestra (2009) * Dandelion Mind (2010) * Dandelion Mind – Gently Modified (2011) * Qualmpeddler (2012–2013) * Limboland (2015–2016) * Larks In Transit (2016) (Australia & New Zealand) * Larks In Transit (2018) (UK) * The Earl of Whimsy (2018) (Australia & New Zealand) * En Route to Normal (2022) (Australia & New Zealand) DVD releases CD releases Filmography * The James Whale Radio Show (TV series) (circa 1990) (Guest) * Maid Marian and her Merry Men (1992). Cameo court jester to King John * Blue Heaven (1994) * Asylum (1996) * Space Cadets (1997) (Regular team captain) * Is It Bill Bailey? (1998) * Spaced (1999–2001) * Have I Got News for You (guest 1999, 2001, 2005; guest presenter 2007, 2008, 2009, 2011) * Saving Grace (2000) * Black Books (2000–2004) * Jonathan Creek ** \"Satan's Chimney\" (2001) ** \"The Tailor's Dummy\" (2003) * Wild West (2002–2004) * Never Mind the Buzzcocks (guest 1999; Regular team captain 2002–2008) * QI (2003–present) (Frequent guest) * \"15 Storeys High\" – \"The Holiday\" (2004) * The Hitchhiker's Guide to the Galaxy (2005) (Voice of the Sperm Whale) * The Libertine (Small cameo role as advisor to Charles II of England). * Wild Thing I Love You (2006) (Presenter) * Top Gear (A Star in a Reasonably-Priced Car / Fake Angelina Jolie) * Hot Fuzz (2007) * Run Fatboy Run (2007) (Cameo) * Skins (2008) (Cameo as Maxxie Oliver's father) * Love Soup (2008) * We Are Most Amused (2008) (One-off special) * Hustle (as 'Cyclops') ** \"Return of the Prodigal\" (2009) ** \"Diamond Seeker\" (2009) ** \"Picasso Finger Painting\" (2012) * Steve's World (2009) * Burke and Hare (2010) * Bill Bailey's Birdwatching Bonanza (2010) * Nanny McPhee and the Big Bang (2010) * Talkin' 'bout Your Generation (2010); one episode * Jo Brand's Big Splash (2011); one episode * Chalet Girl (2011) * Doctor Who – The Doctor, the Widow and the Wardrobe (2011)[http://www.doctorwhonews.net/2011/09/dwn200911224008-christmas-guest-stars.html Christmas Guest Stars Revealed]. Doctor Who News. Retrieved 20 April 2012. * It's Kevin (2013) * The Secret Life of Evolution (2013) * The Grand Tour (2018); Celebrity Face Off, Series 2 Episode 5 *The Big Bad Fox and Other Tales... (2018) *In the Long Run (2018) *Midsomer Murders (2019); Drawing Dead, Series 20 Episode 3 *Strictly Come Dancing (2020) *Roald & Beatrix: The Tail of the Curious Mouse (2020) *My Life Is Murder (2021); Hidden Gems, Season 2 Episode 8 *Patriot Brains (2021); Host & Question Master *This Is My House (2021) *Worzel Gummidge (2021); Mr Peregrine, Series 2 Episode 3 *Travel Man: 96 Hours in Iceland (2021) *The Smeds and The Smoos (2022); Grandfather Smed (Voice role) References External links * * * * . * [http://www.chortle.co.uk/comics/b/371/bill_bailey Bill Bailey] on Chortle. *";

    @Test
    public void testURLExtractionReturnsElements() {
        String[] urlElements = StringUtils.substringsBetween(sampleTextWithURLStrings, "[http", "]");
        System.out.println(urlElements);
    }
    @Test
    public void testURLExtractionResults() {
        Collection<SolrInputDocument> entries = WikiURLExtractor.parseUrlEntries(sampleTextWithURLStrings, "1");
        for (SolrInputDocument entry : entries) {
            System.out.println(entry);
        }
    }
}
